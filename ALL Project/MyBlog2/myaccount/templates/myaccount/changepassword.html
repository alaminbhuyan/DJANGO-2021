{% extends 'blog/base.html' %}
{% load static %}

    {% block title %}ChangePassword{% endblock title %}

{% block content %}
    <div class="container mt-3">
      <div class="row justify-content-center mt-5">
          <div class="col-md-5">
            <h1 class="lead display-6  text-center p-2">User ChangePassword Form</h1><hr>
          </div>
        </div>
        
      <div class="row justify-content-center">
          <div class="col-md-4 mt-3 shadow p-3">
                  <div class="mb-2">
                      <form action="" method="POST" novalidate>
                          {% csrf_token %}
                          {% if form.non_field_errors %}
                              {% for error in form.non_field_errors %}
                                  <p>{{error}}</p>
                              {% endfor %}
                          {% endif %}
                          {% for fm in form %}
                              <div class="mb-3">
                                  {{fm.label_tag}} {{fm}} <small class="text-danger">{{fm.errors|striptags}}</small>
                              </div> 
                          {% endfor %}

                          <div class="form-check">
                            <input class="form-check-input" onclick="myFunction()" type="checkbox" value="" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                              Show Password
                            </label>
                          </div>

                          <button type="submit" class="btn btn-primary mt-2">Save</button>
                          <a class="btn btn-success mt-2" href="{% url 'profile' %}">Profile</a>
                          <a class="btn btn-danger mt-2" href="{% url 'home' %}">Cancel</a>
                          
                      </form>
                  </div>
          </div>
      </div>
    </div>
    <hr>

    {% comment %} Password Show Function Start {% endcomment %}
<script>
    function myFunction() {
        var x = document.getElementById("id_old_password");
        var y = document.getElementById("id_new_password1");
        var z = document.getElementById("id_new_password2");
        if (x.type === "password" && y.type === "password") {
          x.type = "text";
          y.type = "text";
          z.type = "text";
        } else {
          x.type = "password";
          y.type = "password";
          z.type = "password";
        }
      }
</script>
{% comment %} Password Show Function End {% endcomment %}

{% endblock content %}